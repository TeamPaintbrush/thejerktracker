version: 1.0
runtime: nodejs18
build:
  commands:
    build:
      - echo "Installing dependencies..."
      - npm install
      - echo "Building Next.js application..."
      - npm run build
run:
  runtime-version: 18
  command: npm start
  network:
    port: 3000
  env:
    - name: NODE_ENV
      value: production
    - name: NEXTAUTH_SECRET
      value: thejerk-super-secret-production-key-2025-change-me
    - name: AWS_REGION
      value: us-east-1
    - name: DYNAMODB_ENDPOINT
      value: https://dynamodb.us-east-1.amazonaws.com
    - name: NODE_ENV
      value: production