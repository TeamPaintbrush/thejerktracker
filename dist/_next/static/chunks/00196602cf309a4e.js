(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,16015,(e,t,r)=>{},98547,(e,t,r)=>{var s=e.i(47167);e.r(16015);var a=e.r(71645),n=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(a),i=void 0!==s.default&&s.default.env&&!0,l=function(e){return"[object String]"===Object.prototype.toString.call(e)},o=function(){function e(e){var t=void 0===e?{}:e,r=t.name,s=void 0===r?"stylesheet":r,a=t.optimizeForSpeed,n=void 0===a?i:a;d(l(s),"`name` must be a string"),this._name=s,this._deletedRulePlaceholder="#"+s+"-deleted-rule____{}",d("boolean"==typeof n,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=n,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var o="undefined"!=typeof window&&document.querySelector('meta[property="csp-nonce"]');this._nonce=o?o.getAttribute("content"):null}var t,r=e.prototype;return r.setOptimizeForSpeed=function(e){d("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),d(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},r.isOptimizeForSpeed=function(){return this._optimizeForSpeed},r.inject=function(){var e=this;if(d(!this._injected,"sheet already injected"),this._injected=!0,"undefined"!=typeof window&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(i||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,r){return"number"==typeof r?e._serverSheet.cssRules[r]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),r},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},r.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},r.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},r.insertRule=function(e,t){if(d(l(e),"`insertRule` accepts only strings"),"undefined"==typeof window)return"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++;if(this._optimizeForSpeed){var r=this.getSheet();"number"!=typeof t&&(t=r.cssRules.length);try{r.insertRule(e,t)}catch(t){return i||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var s=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,s))}return this._rulesCount++},r.replaceRule=function(e,t){if(this._optimizeForSpeed||"undefined"==typeof window){var r="undefined"!=typeof window?this.getSheet():this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!r.cssRules[e])return e;r.deleteRule(e);try{r.insertRule(t,e)}catch(s){i||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),r.insertRule(this._deletedRulePlaceholder,e)}}else{var s=this._tags[e];d(s,"old rule at index `"+e+"` not found"),s.textContent=t}return e},r.deleteRule=function(e){if("undefined"==typeof window)return void this._serverSheet.deleteRule(e);if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];d(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},r.flush=function(){this._injected=!1,this._rulesCount=0,"undefined"!=typeof window?(this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]):this._serverSheet.cssRules=[]},r.cssRules=function(){var e=this;return"undefined"==typeof window?this._serverSheet.cssRules:this._tags.reduce(function(t,r){return r?t=t.concat(Array.prototype.map.call(e.getSheetForTag(r).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},r.makeStyleTag=function(e,t,r){t&&d(l(t),"makeStyleTag accepts only strings as second parameter");var s=document.createElement("style");this._nonce&&s.setAttribute("nonce",this._nonce),s.type="text/css",s.setAttribute("data-"+e,""),t&&s.appendChild(document.createTextNode(t));var a=document.head||document.getElementsByTagName("head")[0];return r?a.insertBefore(s,r):a.appendChild(s),s},t=[{key:"length",get:function(){return this._rulesCount}}],function(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}(e.prototype,t),e}();function d(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var c=function(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return t>>>0},u={};function m(e,t){if(!t)return"jsx-"+e;var r=String(t),s=e+r;return u[s]||(u[s]="jsx-"+c(e+"-"+r)),u[s]}function h(e,t){"undefined"==typeof window&&(t=t.replace(/\/style/gi,"\\/style"));var r=e+t;return u[r]||(u[r]=t.replace(/__jsx-style-dynamic-selector/g,e)),u[r]}var x=function(){function e(e){var t=void 0===e?{}:e,r=t.styleSheet,s=void 0===r?null:r,a=t.optimizeForSpeed,n=void 0!==a&&a;this._sheet=s||new o({name:"styled-jsx",optimizeForSpeed:n}),this._sheet.inject(),s&&"boolean"==typeof n&&(this._sheet.setOptimizeForSpeed(n),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),"undefined"==typeof window||this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var r=this.getIdAndRules(e),s=r.styleId,a=r.rules;if(s in this._instancesCounts){this._instancesCounts[s]+=1;return}var n=a.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[s]=n,this._instancesCounts[s]=1},t.remove=function(e){var t=this,r=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(r in this._instancesCounts,"styleId: `"+r+"` not found"),this._instancesCounts[r]-=1,this._instancesCounts[r]<1){var s=this._fromServer&&this._fromServer[r];s?(s.parentNode.removeChild(s),delete this._fromServer[r]):(this._indices[r].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[r]),delete this._instancesCounts[r]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],r=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return r[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,r;return t=this.cssRules(),void 0===(r=e)&&(r={}),t.map(function(e){var t=e[0],s=e[1];return n.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:r.nonce?r.nonce:void 0,dangerouslySetInnerHTML:{__html:s}})})},t.getIdAndRules=function(e){var t=e.children,r=e.dynamic,s=e.id;if(r){var a=m(s,r);return{styleId:a,rules:Array.isArray(t)?t.map(function(e){return h(a,e)}):[h(a,t)]}}return{styleId:m(s),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),g=a.createContext(null);function p(){return new x}function f(){return a.useContext(g)}g.displayName="StyleSheetContext";var y=n.default.useInsertionEffect||n.default.useLayoutEffect,b="undefined"!=typeof window?p():void 0;function j(e){var t=b||f();return t&&("undefined"==typeof window?t.add(e):y(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)])),null}j.dynamic=function(e){return e.map(function(e){return m(e[0],e[1])}).join(" ")},r.StyleRegistry=function(e){var t=e.registry,r=e.children,s=a.useContext(g),i=a.useState(function(){return s||t||p()})[0];return n.default.createElement(g.Provider,{value:i},r)},r.createStyleRegistry=p,r.style=j,r.useStyleRegistry=f},37902,(e,t,r)=>{t.exports=e.r(98547).style},72906,e=>{"use strict";e.s(["default",()=>G],72906);var t,r=e.i(43476),s=e.i(71645),a=e.i(17255),n=e.i(18566),i=e.i(25585),l=Object.defineProperty,o=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,u=(e,t,r)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,m=(e,t)=>{for(var r in t||(t={}))d.call(t,r)&&u(e,r,t[r]);if(o)for(var r of o(t))c.call(t,r)&&u(e,r,t[r]);return e},h=(e,t)=>{var r={};for(var s in e)d.call(e,s)&&0>t.indexOf(s)&&(r[s]=e[s]);if(null!=e&&o)for(var s of o(e))0>t.indexOf(s)&&c.call(e,s)&&(r[s]=e[s]);return r};(e=>{let t=class t{static encodeText(r,s){let a=e.QrSegment.makeSegments(r);return t.encodeSegments(a,s)}static encodeBinary(r,s){let a=e.QrSegment.makeBytes(r);return t.encodeSegments([a],s)}static encodeSegments(e,s){let n,l,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:40,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,u=!(arguments.length>5)||void 0===arguments[5]||arguments[5];if(!(t.MIN_VERSION<=o&&o<=d&&d<=t.MAX_VERSION)||c<-1||c>7)throw RangeError("Invalid value");for(n=o;;n++){let r=8*t.getNumDataCodewords(n,s),a=i.getTotalBits(e,n);if(a<=r){l=a;break}if(n>=d)throw RangeError("Data too long")}for(let e of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])u&&l<=8*t.getNumDataCodewords(n,e)&&(s=e);let m=[];for(let t of e)for(let e of(r(t.mode.modeBits,4,m),r(t.numChars,t.mode.numCharCountBits(n),m),t.getData()))m.push(e);a(m.length==l);let h=8*t.getNumDataCodewords(n,s);a(m.length<=h),r(0,Math.min(4,h-m.length),m),r(0,(8-m.length%8)%8,m),a(m.length%8==0);for(let e=236;m.length<h;e^=253)r(e,8,m);let x=[];for(;8*x.length<m.length;)x.push(0);return m.forEach((e,t)=>x[t>>>3]|=e<<7-(7&t)),new t(n,s,x,c)}getModule(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]}getModules(){return this.modules}drawFunctionPatterns(){for(let e=0;e<this.size;e++)this.setFunctionModule(6,e,e%2==0),this.setFunctionModule(e,6,e%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);let e=this.getAlignmentPatternPositions(),t=e.length;for(let r=0;r<t;r++)for(let s=0;s<t;s++)(0!=r||0!=s)&&(0!=r||s!=t-1)&&(r!=t-1||0!=s)&&this.drawAlignmentPattern(e[r],e[s]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(e){let t=this.errorCorrectionLevel.formatBits<<3|e,r=t;for(let e=0;e<10;e++)r=r<<1^(r>>>9)*1335;let n=(t<<10|r)^21522;a(n>>>15==0);for(let e=0;e<=5;e++)this.setFunctionModule(8,e,s(n,e));this.setFunctionModule(8,7,s(n,6)),this.setFunctionModule(8,8,s(n,7)),this.setFunctionModule(7,8,s(n,8));for(let e=9;e<15;e++)this.setFunctionModule(14-e,8,s(n,e));for(let e=0;e<8;e++)this.setFunctionModule(this.size-1-e,8,s(n,e));for(let e=8;e<15;e++)this.setFunctionModule(8,this.size-15+e,s(n,e));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let e=this.version;for(let t=0;t<12;t++)e=e<<1^(e>>>11)*7973;let t=this.version<<12|e;a(t>>>18==0);for(let e=0;e<18;e++){let r=s(t,e),a=this.size-11+e%3,n=Math.floor(e/3);this.setFunctionModule(a,n,r),this.setFunctionModule(n,a,r)}}drawFinderPattern(e,t){for(let r=-4;r<=4;r++)for(let s=-4;s<=4;s++){let a=Math.max(Math.abs(s),Math.abs(r)),n=e+s,i=t+r;0<=n&&n<this.size&&0<=i&&i<this.size&&this.setFunctionModule(n,i,2!=a&&4!=a)}}drawAlignmentPattern(e,t){for(let r=-2;r<=2;r++)for(let s=-2;s<=2;s++)this.setFunctionModule(e+s,t+r,1!=Math.max(Math.abs(s),Math.abs(r)))}setFunctionModule(e,t,r){this.modules[t][e]=r,this.isFunction[t][e]=!0}addEccAndInterleave(e){let r=this.version,s=this.errorCorrectionLevel;if(e.length!=t.getNumDataCodewords(r,s))throw RangeError("Invalid argument");let n=t.NUM_ERROR_CORRECTION_BLOCKS[s.ordinal][r],i=t.ECC_CODEWORDS_PER_BLOCK[s.ordinal][r],l=Math.floor(t.getNumRawDataModules(r)/8),o=n-l%n,d=Math.floor(l/n),c=[],u=t.reedSolomonComputeDivisor(i);for(let r=0,s=0;r<n;r++){let a=e.slice(s,s+d-i+(r<o?0:1));s+=a.length;let n=t.reedSolomonComputeRemainder(a,u);r<o&&a.push(0),c.push(a.concat(n))}let m=[];for(let e=0;e<c[0].length;e++)c.forEach((t,r)=>{(e!=d-i||r>=o)&&m.push(t[e])});return a(m.length==l),m}drawCodewords(e){if(e.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw RangeError("Invalid argument");let r=0;for(let t=this.size-1;t>=1;t-=2){6==t&&(t=5);for(let a=0;a<this.size;a++)for(let n=0;n<2;n++){let i=t-n,l=(t+1&2)==0?this.size-1-a:a;!this.isFunction[l][i]&&r<8*e.length&&(this.modules[l][i]=s(e[r>>>3],7-(7&r)),r++)}}a(r==8*e.length)}applyMask(e){if(e<0||e>7)throw RangeError("Mask value out of range");for(let t=0;t<this.size;t++)for(let r=0;r<this.size;r++){let s;switch(e){case 0:s=(r+t)%2==0;break;case 1:s=t%2==0;break;case 2:s=r%3==0;break;case 3:s=(r+t)%3==0;break;case 4:s=(Math.floor(r/3)+Math.floor(t/2))%2==0;break;case 5:s=r*t%2+r*t%3==0;break;case 6:s=(r*t%2+r*t%3)%2==0;break;case 7:s=((r+t)%2+r*t%3)%2==0;break;default:throw Error("Unreachable")}!this.isFunction[t][r]&&s&&(this.modules[t][r]=!this.modules[t][r])}}getPenaltyScore(){let e=0;for(let r=0;r<this.size;r++){let s=!1,a=0,n=[0,0,0,0,0,0,0];for(let i=0;i<this.size;i++)this.modules[r][i]==s?5==++a?e+=t.PENALTY_N1:a>5&&e++:(this.finderPenaltyAddHistory(a,n),s||(e+=this.finderPenaltyCountPatterns(n)*t.PENALTY_N3),s=this.modules[r][i],a=1);e+=this.finderPenaltyTerminateAndCount(s,a,n)*t.PENALTY_N3}for(let r=0;r<this.size;r++){let s=!1,a=0,n=[0,0,0,0,0,0,0];for(let i=0;i<this.size;i++)this.modules[i][r]==s?5==++a?e+=t.PENALTY_N1:a>5&&e++:(this.finderPenaltyAddHistory(a,n),s||(e+=this.finderPenaltyCountPatterns(n)*t.PENALTY_N3),s=this.modules[i][r],a=1);e+=this.finderPenaltyTerminateAndCount(s,a,n)*t.PENALTY_N3}for(let r=0;r<this.size-1;r++)for(let s=0;s<this.size-1;s++){let a=this.modules[r][s];a==this.modules[r][s+1]&&a==this.modules[r+1][s]&&a==this.modules[r+1][s+1]&&(e+=t.PENALTY_N2)}let r=0;for(let e of this.modules)r=e.reduce((e,t)=>e+ +!!t,r);let s=this.size*this.size,n=Math.ceil(Math.abs(20*r-10*s)/s)-1;return a(0<=n&&n<=9),a(0<=(e+=n*t.PENALTY_N4)&&e<=2568888),e}getAlignmentPatternPositions(){if(1==this.version)return[];{let e=Math.floor(this.version/7)+2,t=32==this.version?26:2*Math.ceil((4*this.version+4)/(2*e-2)),r=[6];for(let s=this.size-7;r.length<e;s-=t)r.splice(1,0,s);return r}}static getNumRawDataModules(e){if(e<t.MIN_VERSION||e>t.MAX_VERSION)throw RangeError("Version number out of range");let r=(16*e+128)*e+64;if(e>=2){let t=Math.floor(e/7)+2;r-=(25*t-10)*t-55,e>=7&&(r-=36)}return a(208<=r&&r<=29648),r}static getNumDataCodewords(e,r){return Math.floor(t.getNumRawDataModules(e)/8)-t.ECC_CODEWORDS_PER_BLOCK[r.ordinal][e]*t.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][e]}static reedSolomonComputeDivisor(e){if(e<1||e>255)throw RangeError("Degree out of range");let r=[];for(let t=0;t<e-1;t++)r.push(0);r.push(1);let s=1;for(let a=0;a<e;a++){for(let e=0;e<r.length;e++)r[e]=t.reedSolomonMultiply(r[e],s),e+1<r.length&&(r[e]^=r[e+1]);s=t.reedSolomonMultiply(s,2)}return r}static reedSolomonComputeRemainder(e,r){let s=r.map(e=>0);for(let a of e){let e=a^s.shift();s.push(0),r.forEach((r,a)=>s[a]^=t.reedSolomonMultiply(r,e))}return s}static reedSolomonMultiply(e,t){if(e>>>8!=0||t>>>8!=0)throw RangeError("Byte out of range");let r=0;for(let s=7;s>=0;s--)r=r<<1^(r>>>7)*285^(t>>>s&1)*e;return a(r>>>8==0),r}finderPenaltyCountPatterns(e){let t=e[1];a(t<=3*this.size);let r=t>0&&e[2]==t&&e[3]==3*t&&e[4]==t&&e[5]==t;return(r&&e[0]>=4*t&&e[6]>=t?1:0)+(r&&e[6]>=4*t&&e[0]>=t?1:0)}finderPenaltyTerminateAndCount(e,t,r){return e&&(this.finderPenaltyAddHistory(t,r),t=0),t+=this.size,this.finderPenaltyAddHistory(t,r),this.finderPenaltyCountPatterns(r)}finderPenaltyAddHistory(e,t){0==t[0]&&(e+=this.size),t.pop(),t.unshift(e)}constructor(e,r,s,n){if(this.version=e,this.errorCorrectionLevel=r,this.modules=[],this.isFunction=[],e<t.MIN_VERSION||e>t.MAX_VERSION)throw RangeError("Version value out of range");if(n<-1||n>7)throw RangeError("Mask value out of range");this.size=4*e+17;let i=[];for(let e=0;e<this.size;e++)i.push(!1);for(let e=0;e<this.size;e++)this.modules.push(i.slice()),this.isFunction.push(i.slice());this.drawFunctionPatterns();let l=this.addEccAndInterleave(s);if(this.drawCodewords(l),-1==n){let e=1e9;for(let t=0;t<8;t++){this.applyMask(t),this.drawFormatBits(t);let r=this.getPenaltyScore();r<e&&(n=t,e=r),this.applyMask(t)}}a(0<=n&&n<=7),this.mask=n,this.applyMask(n),this.drawFormatBits(n),this.isFunction=[]}};function r(e,t,r){if(t<0||t>31||e>>>t!=0)throw RangeError("Value out of range");for(let s=t-1;s>=0;s--)r.push(e>>>s&1)}function s(e,t){return(e>>>t&1)!=0}function a(e){if(!e)throw Error("Assertion error")}t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;let n=class e{static makeBytes(t){let s=[];for(let e of t)r(e,8,s);return new e(e.Mode.BYTE,t.length,s)}static makeNumeric(t){if(!e.isNumeric(t))throw RangeError("String contains non-numeric characters");let s=[];for(let e=0;e<t.length;){let a=Math.min(t.length-e,3);r(parseInt(t.substring(e,e+a),10),3*a+1,s),e+=a}return new e(e.Mode.NUMERIC,t.length,s)}static makeAlphanumeric(t){let s;if(!e.isAlphanumeric(t))throw RangeError("String contains unencodable characters in alphanumeric mode");let a=[];for(s=0;s+2<=t.length;s+=2){let n=45*e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(s));r(n+=e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(s+1)),11,a)}return s<t.length&&r(e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(s)),6,a),new e(e.Mode.ALPHANUMERIC,t.length,a)}static makeSegments(t){return""==t?[]:e.isNumeric(t)?[e.makeNumeric(t)]:e.isAlphanumeric(t)?[e.makeAlphanumeric(t)]:[e.makeBytes(e.toUtf8ByteArray(t))]}static makeEci(t){let s=[];if(t<0)throw RangeError("ECI assignment value out of range");if(t<128)r(t,8,s);else if(t<16384)r(2,2,s),r(t,14,s);else if(t<1e6)r(6,3,s),r(t,21,s);else throw RangeError("ECI assignment value out of range");return new e(e.Mode.ECI,0,s)}static isNumeric(t){return e.NUMERIC_REGEX.test(t)}static isAlphanumeric(t){return e.ALPHANUMERIC_REGEX.test(t)}getData(){return this.bitData.slice()}static getTotalBits(e,t){let r=0;for(let s of e){let e=s.mode.numCharCountBits(t);if(s.numChars>=1<<e)return 1/0;r+=4+e+s.bitData.length}return r}static toUtf8ByteArray(e){e=encodeURI(e);let t=[];for(let r=0;r<e.length;r++)"%"!=e.charAt(r)?t.push(e.charCodeAt(r)):(t.push(parseInt(e.substring(r+1,r+3),16)),r+=2);return t}constructor(e,t,r){if(this.mode=e,this.numChars=t,this.bitData=r,t<0)throw RangeError("Invalid argument");this.bitData=r.slice()}};n.NUMERIC_REGEX=/^[0-9]*$/,n.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,n.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let i=n;e.QrSegment=n})(t||(t={})),(e=>{(e=>{let t=class{constructor(e,t){this.ordinal=e,this.formatBits=t}};t.LOW=new t(0,1),t.MEDIUM=new t(1,0),t.QUARTILE=new t(2,3),t.HIGH=new t(3,2),e.Ecc=t})(e.QrCode||(e.QrCode={}))})(t||(t={})),(e=>{(e=>{let t=class{numCharCountBits(e){return this.numBitsCharCount[Math.floor((e+7)/17)]}constructor(e,t){this.modeBits=e,this.numBitsCharCount=t}};t.NUMERIC=new t(1,[10,12,14]),t.ALPHANUMERIC=new t(2,[9,11,13]),t.BYTE=new t(4,[8,16,16]),t.KANJI=new t(8,[8,10,12]),t.ECI=new t(7,[0,0,0]),e.Mode=t})(e.QrSegment||(e.QrSegment={}))})(t||(t={}));var x=t,g={L:x.QrCode.Ecc.LOW,M:x.QrCode.Ecc.MEDIUM,Q:x.QrCode.Ecc.QUARTILE,H:x.QrCode.Ecc.HIGH},p="#FFFFFF",f="#000000";function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[];return e.forEach(function(e,s){let a=null;e.forEach(function(n,i){if(!n&&null!==a){r.push("M".concat(a+t," ").concat(s+t,"h").concat(i-a,"v1H").concat(a+t,"z")),a=null;return}if(i===e.length-1){if(!n)return;null===a?r.push("M".concat(i+t,",").concat(s+t," h1v1H").concat(i+t,"z")):r.push("M".concat(a+t,",").concat(s+t," h").concat(i+1-a,"v1H").concat(a+t,"z"));return}n&&null===a&&(a=i)})}),r.join("")}function b(e,t){return e.slice().map((e,r)=>r<t.y||r>=t.y+t.h?e:e.map((e,r)=>(r<t.x||r>=t.x+t.w)&&e))}function j(e){let{value:t,level:r,minVersion:a,includeMargin:n,marginSize:i,imageSettings:l,size:o,boostLevel:d}=e,c=s.default.useMemo(()=>{let e=(Array.isArray(t)?t:[t]).reduce((e,t)=>(e.push(...x.QrSegment.makeSegments(t)),e),[]);return x.QrCode.encodeSegments(e,g[r],a,void 0,void 0,d)},[t,r,a,d]),{cells:u,margin:m,numCells:h,calculatedImageSettings:p}=s.default.useMemo(()=>{let e=c.getModules(),t=null!=i?Math.max(Math.floor(i),0):4*!!n,r=e.length+2*t,s=function(e,t,r,s){if(null==s)return null;let a=e.length+2*r,n=Math.floor(.1*t),i=a/t,l=(s.width||n)*i,o=(s.height||n)*i,d=null==s.x?e.length/2-l/2:s.x*i,c=null==s.y?e.length/2-o/2:s.y*i,u=null==s.opacity?1:s.opacity,m=null;if(s.excavate){let e=Math.floor(d),t=Math.floor(c),r=Math.ceil(l+d-e),s=Math.ceil(o+c-t);m={x:e,y:t,w:r,h:s}}return{x:d,y:c,h:o,w:l,excavation:m,opacity:u,crossOrigin:s.crossOrigin}}(e,o,t,l);return{cells:e,margin:t,numCells:r,calculatedImageSettings:s}},[c,o,l,n,i]);return{qrcode:c,margin:m,cells:u,numCells:h,calculatedImageSettings:p}}var v=function(){try{new Path2D().addPath(new Path2D)}catch(e){return!1}return!0}();s.default.forwardRef(function(e,t){let{value:r,size:a=128,level:n="L",bgColor:i=p,fgColor:l=f,includeMargin:o=!1,minVersion:d=1,boostLevel:c,marginSize:u,imageSettings:x}=e,g=h(e,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:N}=g,w=h(g,["style"]),S=null==x?void 0:x.src,C=s.default.useRef(null),E=s.default.useRef(null),R=s.default.useCallback(e=>{C.current=e,"function"==typeof t?t(e):t&&(t.current=e)},[t]),[_,k]=s.default.useState(!1),{margin:A,cells:M,numCells:O,calculatedImageSettings:D}=j({value:r,level:n,minVersion:d,boostLevel:c,includeMargin:o,marginSize:u,imageSettings:x,size:a});s.default.useEffect(()=>{if(null!=C.current){let e=C.current,t=e.getContext("2d");if(!t)return;let r=M,s=E.current,n=null!=D&&null!==s&&s.complete&&0!==s.naturalHeight&&0!==s.naturalWidth;n&&null!=D.excavation&&(r=b(M,D.excavation));let o=window.devicePixelRatio||1;e.height=e.width=a*o;let d=a/O*o;t.scale(d,d),t.fillStyle=i,t.fillRect(0,0,O,O),t.fillStyle=l,v?t.fill(new Path2D(y(r,A))):M.forEach(function(e,r){e.forEach(function(e,s){e&&t.fillRect(s+A,r+A,1,1)})}),D&&(t.globalAlpha=D.opacity),n&&t.drawImage(s,D.x+A,D.y+A,D.w,D.h)}}),s.default.useEffect(()=>{k(!1)},[S]);let F=m({height:a,width:a},N),P=null;return null!=S&&(P=s.default.createElement("img",{src:S,key:S,style:{display:"none"},onLoad:()=>{k(!0)},ref:E,crossOrigin:null==D?void 0:D.crossOrigin})),s.default.createElement(s.default.Fragment,null,s.default.createElement("canvas",m({style:F,height:a,width:a,ref:R,role:"img"},w)),P)}).displayName="QRCodeCanvas";var N=s.default.forwardRef(function(e,t){let{value:r,size:a=128,level:n="L",bgColor:i=p,fgColor:l=f,includeMargin:o=!1,minVersion:d=1,boostLevel:c,title:u,marginSize:x,imageSettings:g}=e,v=h(e,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:N,cells:w,numCells:S,calculatedImageSettings:C}=j({value:r,level:n,minVersion:d,boostLevel:c,includeMargin:o,marginSize:x,imageSettings:g,size:a}),E=w,R=null;null!=g&&null!=C&&(null!=C.excavation&&(E=b(w,C.excavation)),R=s.default.createElement("image",{href:g.src,height:C.h,width:C.w,x:C.x+N,y:C.y+N,preserveAspectRatio:"none",opacity:C.opacity,crossOrigin:C.crossOrigin}));let _=y(E,N);return s.default.createElement("svg",m({height:a,width:a,viewBox:"0 0 ".concat(S," ").concat(S),ref:t,role:"img"},v),!!u&&s.default.createElement("title",null,u),s.default.createElement("path",{fill:i,d:"M0,0 h".concat(S,"v").concat(S,"H0z"),shapeRendering:"crispEdges"}),s.default.createElement("path",{fill:l,d:_,shapeRendering:"crispEdges"}),R)});N.displayName="QRCodeSVG";var w=e.i(75254);let S=(0,w.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),C=(0,w.default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);var E=e.i(16715);let R=(0,w.default)("toggle-left",[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]]),_=(0,w.default)("toggle-right",[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]]),k=(0,w.default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),A=(0,w.default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),M=(0,w.default)("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),O=(0,w.default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var D=e.i(84614);let F=(0,w.default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),P=(0,w.default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var L=e.i(46932),z=e.i(83036),I=e.i(46417);let T=(0,w.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),U=(0,w.default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),H=(0,w.default)("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]),B=(0,w.default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),V=(0,w.default)("ban",[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);function Q(e){let{order:t,onUpdate:a}=e,{showToast:n}=(0,z.useToast)(),[l,o]=(0,s.useState)(!1),[d,c]=(0,s.useState)(t.notes||""),u={Pending:U,Preparing:B,Ready:T,"Out for Delivery":H,"Picked Up":T,Cancelled:V},m=async e=>{o(!0);try{let r=(0,i.updateOrderStatus)(t.id,e,{notes:d});r&&(a(r),n({type:"success",title:"Status Updated",message:"Order ".concat(t.orderNumber," status changed to ").concat(e)}))}catch(e){console.error("Error updating status:",e),n({type:"error",title:"Update Failed",message:"Could not update the order status."})}finally{o(!1)}},h=(0,i.getNextStatuses)(t.status),x=u[t.status];return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("div",{className:"px-3 py-1 rounded-full text-sm font-medium flex items-center gap-2 ".concat((0,i.getStatusColor)(t.status)),children:[(0,r.jsx)(x,{className:"w-4 h-4"}),t.status]}),t.updatedAt&&(0,r.jsxs)("span",{className:"text-xs text-gray-500",children:["Updated: ",t.updatedAt.toLocaleString()]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-700",children:"Status History:"}),(0,r.jsxs)("div",{className:"space-y-1 text-xs text-gray-600",children:[(0,r.jsxs)("div",{children:["Created: ",t.createdAt.toLocaleString()]}),t.preparingAt&&(0,r.jsxs)("div",{children:["Started Preparing: ",t.preparingAt.toLocaleString()]}),t.readyAt&&(0,r.jsxs)("div",{children:["Ready: ",t.readyAt.toLocaleString()]}),t.outForDeliveryAt&&(0,r.jsxs)("div",{children:["Out for Delivery: ",t.outForDeliveryAt.toLocaleString()]}),t.pickedUpAt&&(0,r.jsxs)("div",{children:["Picked Up: ",t.pickedUpAt.toLocaleString()]}),t.cancelledAt&&(0,r.jsxs)("div",{children:["Cancelled: ",t.cancelledAt.toLocaleString()]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes:"}),(0,r.jsx)("textarea",{value:d,onChange:e=>c(e.target.value),placeholder:"Add any notes about this order...",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",rows:2})]}),h.length>0&&(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-700",children:"Update Status:"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:h.map(e=>{let t=u[e];return(0,r.jsxs)("button",{onClick:()=>m(e),disabled:l,className:"inline-flex items-center gap-2 px-3 py-2 text-sm font-medium rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed ".concat("Cancelled"===e?"bg-red-600 text-white hover:bg-red-700":"bg-orange-600 text-white hover:bg-orange-700"),children:[(0,r.jsx)(t,{className:"w-4 h-4"}),e]},e)})})]}),0===h.length&&(0,r.jsx)("div",{className:"text-sm text-gray-500 italic",children:"This order has reached its final status."})]})}function Y(){let[e,t]=(0,s.useState)(null),[a,n]=(0,s.useState)(!1),[i,l]=(0,s.useState)(null),o=async()=>{try{let e=await fetch("/api/migrate"),r=await e.json();t(r)}catch(e){console.error("Error fetching migration status:",e),t({legacyOrderCount:0,databaseOrderCount:0,hasLegacyData:!1,migrationComplete:!1,error:"Failed to fetch status"})}},d=async e=>{n(!0),l(null);try{let t=await fetch("/api/migrate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:e})}),r=await t.json();t.ok?(l({success:!0,...r}),await o()):l({success:!1,error:r.error||"Action failed"})}catch(t){console.error("Error performing ".concat(e,":"),t),l({success:!1,error:"Failed to ".concat(e)})}finally{n(!1)}};return((0,s.useEffect)(()=>{o()},[]),e)?(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-2xl",children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Data Migration Panel"}),(0,r.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[(0,r.jsx)("h3",{className:"font-semibold mb-2",children:"Current Status"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Legacy Orders:"})," ",e.legacyOrderCount]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Database Orders:"})," ",e.databaseOrderCount]}),(0,r.jsxs)("div",{className:"col-span-2",children:[(0,r.jsx)("span",{className:"font-medium",children:"Status:"})," ",e.migrationComplete?(0,r.jsx)("span",{className:"text-green-600",children:"✅ Migration Complete"}):e.hasLegacyData?(0,r.jsx)("span",{className:"text-yellow-600",children:"⚠️ Legacy Data Found - Migration Needed"}):(0,r.jsx)("span",{className:"text-blue-600",children:"ℹ️ No Legacy Data"})]})]}),e.error&&(0,r.jsxs)("div",{className:"mt-2 text-red-600 text-sm",children:["Error: ",e.error]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[e.hasLegacyData&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,r.jsx)("h4",{className:"font-semibold text-blue-800 mb-2",children:"Migration Available"}),(0,r.jsxs)("p",{className:"text-blue-700 text-sm mb-3",children:["Found ",e.legacyOrderCount," orders in localStorage that can be migrated to the database. A backup will be created automatically before migration."]}),(0,r.jsx)("button",{onClick:()=>d("migrate"),disabled:a,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 disabled:bg-gray-400",children:a?"Migrating...":"Migrate Legacy Data"})]}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)("button",{onClick:()=>d("backup"),disabled:a,className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 disabled:bg-gray-400",children:a?"Creating...":"Create Backup"}),(0,r.jsx)("button",{onClick:()=>d("clear"),disabled:a,className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 disabled:bg-gray-400",title:"Warning: This will permanently delete localStorage data",children:a?"Clearing...":"Clear Legacy Data"})]})]}),(0,r.jsx)("button",{onClick:o,disabled:a,className:"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700 disabled:bg-gray-400",children:"Refresh Status"})]}),i&&(0,r.jsxs)("div",{className:"mt-6 p-4 rounded-lg ".concat(i.success?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"),children:[(0,r.jsx)("h4",{className:"font-semibold mb-2 ".concat(i.success?"text-green-800":"text-red-800"),children:i.success?"✅ Success":"❌ Error"}),i.message&&(0,r.jsx)("p",{className:"text-sm mb-2 ".concat(i.success?"text-green-700":"text-red-700"),children:i.message}),void 0!==i.migrated&&(0,r.jsxs)("div",{className:"text-sm space-y-1",children:[(0,r.jsxs)("div",{children:["Migrated: ",i.migrated," orders"]}),(0,r.jsxs)("div",{children:["Skipped: ",i.skipped," orders"]}),i.errors&&i.errors.length>0&&(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsx)("div",{className:"font-medium",children:"Errors:"}),(0,r.jsx)("ul",{className:"list-disc list-inside",children:i.errors.map((e,t)=>(0,r.jsx)("li",{className:"text-xs",children:e},t))})]})]}),i.error&&(0,r.jsx)("p",{className:"text-red-700 text-sm",children:i.error})]}),(0,r.jsxs)("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[(0,r.jsx)("h4",{className:"font-semibold text-yellow-800 mb-2",children:"⚠️ Important Notes"}),(0,r.jsxs)("ul",{className:"text-yellow-700 text-sm space-y-1",children:[(0,r.jsx)("li",{children:"• Always create a backup before migration"}),(0,r.jsx)("li",{children:"• Migration can be run multiple times safely (duplicates are skipped)"}),(0,r.jsx)("li",{children:"• Clearing legacy data is permanent - ensure migration is successful first"}),(0,r.jsx)("li",{children:"• This panel is for admin use only"})]})]})]}):(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Data Migration"}),(0,r.jsx)("div",{className:"text-center",children:"Loading migration status..."})]})}var q=e.i(37902);let W=e=>{let{order:t,qrUrl:s,restaurantName:a="The JERK Tracker Restaurant",restaurantAddress:n="123 Main Street, City, State 12345",restaurantPhone:i="(555) 123-4567"}=e;return(0,r.jsxs)("div",{className:"jsx-599d4de27508be14 max-w-md mx-auto bg-white",children:[(0,r.jsx)("div",{className:"jsx-599d4de27508be14 no-print mb-4 text-center",children:(0,r.jsx)("button",{onClick:()=>{window.print()},className:"jsx-599d4de27508be14 bg-blue-500 text-white px-6 py-2 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors",children:"🖨️ Print Receipt"})}),(0,r.jsxs)("div",{className:"jsx-599d4de27508be14 receipt-content p-6 border border-gray-200 rounded-lg",children:[(0,r.jsxs)("div",{className:"jsx-599d4de27508be14 text-center mb-6",children:[(0,r.jsx)("h1",{className:"jsx-599d4de27508be14 text-xl font-bold text-gray-800 mb-2",children:a}),(0,r.jsx)("p",{className:"jsx-599d4de27508be14 text-sm text-gray-600",children:n}),(0,r.jsx)("p",{className:"jsx-599d4de27508be14 text-sm text-gray-600",children:i}),(0,r.jsx)("div",{className:"jsx-599d4de27508be14 border-b border-gray-300 mt-3 mb-3"})]}),(0,r.jsxs)("div",{className:"jsx-599d4de27508be14 mb-6",children:[(0,r.jsx)("h2",{className:"jsx-599d4de27508be14 text-lg font-semibold text-gray-800 mb-3",children:"Order Details"}),(0,r.jsxs)("div",{className:"jsx-599d4de27508be14 space-y-2 text-sm",children:[(0,r.jsxs)("div",{className:"jsx-599d4de27508be14 flex justify-between",children:[(0,r.jsx)("span",{className:"jsx-599d4de27508be14 font-medium",children:"Order #:"}),(0,r.jsx)("span",{className:"jsx-599d4de27508be14",children:t.orderNumber})]}),t.customerName&&(0,r.jsxs)("div",{className:"jsx-599d4de27508be14 flex justify-between",children:[(0,r.jsx)("span",{className:"jsx-599d4de27508be14 font-medium",children:"Customer:"}),(0,r.jsx)("span",{className:"jsx-599d4de27508be14",children:t.customerName})]}),(0,r.jsxs)("div",{className:"jsx-599d4de27508be14 flex justify-between",children:[(0,r.jsx)("span",{className:"jsx-599d4de27508be14 font-medium",children:"Status:"}),(0,r.jsx)("span",{className:"jsx-599d4de27508be14 "+"font-medium ".concat("Picked Up"===t.status?"text-green-600":"Ready"===t.status?"text-orange-600":"text-gray-600"),children:t.status})]}),(0,r.jsxs)("div",{className:"jsx-599d4de27508be14 flex justify-between",children:[(0,r.jsx)("span",{className:"jsx-599d4de27508be14 font-medium",children:"Created:"}),(0,r.jsx)("span",{className:"jsx-599d4de27508be14",children:t.createdAt.toLocaleString()})]}),t.pickedUpAt&&(0,r.jsxs)("div",{className:"jsx-599d4de27508be14 flex justify-between",children:[(0,r.jsx)("span",{className:"jsx-599d4de27508be14 font-medium",children:"Picked Up:"}),(0,r.jsx)("span",{className:"jsx-599d4de27508be14",children:t.pickedUpAt.toLocaleString()})]}),t.driverName&&(0,r.jsxs)("div",{className:"jsx-599d4de27508be14 flex justify-between",children:[(0,r.jsx)("span",{className:"jsx-599d4de27508be14 font-medium",children:"Driver:"}),(0,r.jsx)("span",{className:"jsx-599d4de27508be14",children:t.driverName})]}),t.deliveryCompany&&(0,r.jsxs)("div",{className:"jsx-599d4de27508be14 flex justify-between",children:[(0,r.jsx)("span",{className:"jsx-599d4de27508be14 font-medium",children:"Delivery Company:"}),(0,r.jsx)("span",{className:"jsx-599d4de27508be14",children:t.deliveryCompany})]})]})]}),t.orderDetails&&(0,r.jsxs)("div",{className:"jsx-599d4de27508be14 mb-6",children:[(0,r.jsx)("h3",{className:"jsx-599d4de27508be14 text-md font-semibold text-gray-800 mb-2",children:"Order Items"}),(0,r.jsx)("p",{className:"jsx-599d4de27508be14 text-sm text-gray-700 bg-gray-50 p-3 rounded border",children:t.orderDetails})]}),(0,r.jsxs)("div",{className:"jsx-599d4de27508be14 text-center mb-6",children:[(0,r.jsx)("h3",{className:"jsx-599d4de27508be14 text-md font-semibold text-gray-800 mb-3",children:"Order Tracking QR Code"}),(0,r.jsx)("div",{className:"jsx-599d4de27508be14 flex justify-center mb-3",children:(0,r.jsx)(N,{value:s,size:150})}),(0,r.jsx)("p",{className:"jsx-599d4de27508be14 text-xs text-gray-600 break-all",children:s})]}),(0,r.jsxs)("div",{className:"jsx-599d4de27508be14 text-center text-xs text-gray-500 border-t border-gray-300 pt-3",children:[(0,r.jsx)("p",{className:"jsx-599d4de27508be14",children:"Thank you for your order!"}),(0,r.jsx)("p",{className:"jsx-599d4de27508be14",children:"Scan the QR code above to track your order status"}),(0,r.jsxs)("p",{className:"jsx-599d4de27508be14 mt-2",children:["Generated on ",new Date().toLocaleString()]})]})]}),(0,r.jsx)(q.default,{id:"599d4de27508be14",children:"@media print{.no-print{display:none!important}.receipt-content{box-shadow:none!important;border:none!important;max-width:none!important;margin:0!important;padding:20px!important}body{font-size:12px!important;line-height:1.4!important}h1{margin-bottom:10px!important;font-size:18px!important}h2{margin-bottom:8px!important;font-size:16px!important}h3{margin-bottom:6px!important;font-size:14px!important}.text-sm{font-size:11px!important}.text-xs{font-size:10px!important}svg{max-width:120px!important;height:auto!important}.mb-6{margin-bottom:15px!important}.mb-3{margin-bottom:8px!important}.mb-2{margin-bottom:5px!important}.p-6{padding:15px!important}.p-3{padding:8px!important}.pt-3{padding-top:8px!important}.text-green-600{color:#16a34a!important}.text-orange-600{color:#ea580c!important}.text-gray-600{color:#4b5563!important}.text-gray-700{color:#374151!important}.text-gray-800{color:#1f2937!important}.bg-gray-50{background-color:#f9fafb!important}.receipt-content{page-break-after:always}}"})]})};function K(e){let{children:t,roles:s,fallback:n=null,requireAll:i=!1}=e,{hasRole:l,isAuthenticated:o}=function(){let{data:e}=(0,a.useSession)(),t=t=>{var r;return!!(null==e||null==(r=e.user)?void 0:r.role)&&(Array.isArray(t)?t:[t]).includes(e.user.role)};return{user:null==e?void 0:e.user,hasRole:t,isAdmin:()=>t("ADMIN"),isStaff:()=>t("STAFF"),isDriver:()=>t("DRIVER"),isStaffOrAdmin:()=>t(["STAFF","ADMIN"]),isAuthenticated:!!e}}();if(!o)return(0,r.jsx)(r.Fragment,{children:n});if(!s)return(0,r.jsx)(r.Fragment,{children:t});let d=Array.isArray(s)?s:[s];return(i?d.every(e=>l(e)):d.some(e=>l(e)))?(0,r.jsx)(r.Fragment,{children:t}):(0,r.jsx)(r.Fragment,{children:n})}function G(){var e,t,l;let{data:o,status:d}=(0,a.useSession)(),c=(0,n.useRouter)(),{showToast:u}=(0,z.useToast)(),[m,h]=(0,s.useState)(""),[x,g]=(0,s.useState)(""),[p,f]=(0,s.useState)(""),[y,b]=(0,s.useState)(""),[j,v]=(0,s.useState)(""),[w,T]=(0,s.useState)(!1),[U,H]=(0,s.useState)([]),[B,V]=(0,s.useState)(!0),[q,G]=(0,s.useState)(""),[X,J]=(0,s.useState)(!0),[$,Z]=(0,s.useState)(""),[ee,et]=(0,s.useState)("all"),[er,es]=(0,s.useState)({start:"",end:""}),[ea,en]=(0,s.useState)(null),[ei,el]=(0,s.useState)(!1),[eo,ed]=(0,s.useState)(!1),[ec,eu]=(0,s.useState)(!1),[em,eh]=(0,s.useState)(null);if((0,s.useEffect)(()=>{if("loading"!==d&&!o)return void c.push("/auth/signin")},[o,d,c]),(0,s.useEffect)(()=>{try{let e=(0,i.getAllOrders)();H(e),V(!1)}catch(e){console.error("Error fetching orders:",e),u({type:"error",title:"Failed to load orders",message:"There was an error loading the orders. Please refresh the page."}),V(!1)}},[u]),(0,s.useEffect)(()=>{if(!X)return;let e=setInterval(()=>{try{let e=(0,i.getAllOrders)();H(e)}catch(e){console.error("Error auto-refreshing orders:",e),u({type:"warning",title:"Auto-refresh failed",message:"Could not refresh orders automatically."})}},3e4);return()=>clearInterval(e)},[X,u]),"loading"===d)return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-orange-100 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 border-2 border-orange-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})});if(!o)return null;let ex=async()=>{try{await (0,a.signOut)({callbackUrl:"/auth/signin"})}catch(e){console.error("Sign out error:",e),u({type:"error",title:"Sign Out Failed",message:"There was an error signing out. Please try again."})}},eg=async e=>{if(e.preventDefault(),!m.trim())return void u({type:"error",title:"Validation Error",message:"Order Number is required."});if(m.length<3)return void u({type:"error",title:"Validation Error",message:"Order Number must be at least 3 characters."});T(!0);try{let e="".concat(window.location.origin,"/order"),t=(0,i.addOrder)({orderNumber:m,customerName:x||void 0,customerEmail:p||void 0,orderDetails:y||void 0,status:"Pending",qrUrl:e,createdAt:new Date}),r="".concat(e,"?id=").concat(t.id);v(r),u({type:"success",title:"Order Created",message:"Order ".concat(m," has been created successfully.")}),h(""),g(""),f(""),b("");let s=(0,i.getAllOrders)();H(s)}catch(e){console.error("Error adding order:",e),u({type:"error",title:"Order Creation Failed",message:"There was an error creating the order. Please try again."})}finally{T(!1)}},ep=e=>{en(e),el(!0)},ef=U.filter(e=>{if($){var t,r;let s=$.toLowerCase(),a=e.orderNumber.toLowerCase().includes(s),n=(null==(t=e.customerName)?void 0:t.toLowerCase().includes(s))||!1,i=(null==(r=e.customerEmail)?void 0:r.toLowerCase().includes(s))||!1;if(!a&&!n&&!i)return!1}if("all"!==ee&&e.status!==ee)return!1;if(er.start&&er.end){let t=e.createdAt.toDateString(),r=new Date(er.start).toDateString(),s=new Date(er.end).toDateString();if(t<r||t>s)return!1}else if(q&&e.createdAt.toDateString()!==new Date(q).toDateString())return!1;return!0}),ey=e=>{let t=new Date,r=e=>e.toISOString().split("T")[0];switch(e){case"today":let s=r(t);es({start:s,end:s}),G("");break;case"yesterday":let a=new Date(t);a.setDate(t.getDate()-1);let n=r(a);es({start:n,end:n}),G("");break;case"last7days":let i=new Date(t);i.setDate(t.getDate()-7),es({start:r(i),end:r(t)}),G("");break;case"last30days":let l=new Date(t);l.setDate(t.getDate()-30),es({start:r(l),end:r(t)}),G("");break;case"thisWeek":let o=new Date(t);o.setDate(t.getDate()-t.getDay()),es({start:r(o),end:r(t)}),G("");break;case"thisMonth":es({start:r(new Date(t.getFullYear(),t.getMonth(),1)),end:r(t)}),G("")}};return(0,r.jsxs)(I.ErrorBoundary,{children:[(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 p-2 sm:p-4",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6 mb-4 sm:mb-6",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 sm:mb-6",children:[(0,r.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mb-4 sm:mb-0",children:"Admin Dashboard"}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(K,{roles:"ADMIN",children:(0,r.jsx)("div",{className:"flex items-center gap-2",children:(0,r.jsxs)("button",{onClick:()=>ed(!eo),className:"flex items-center gap-2 px-3 py-2 text-sm text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-colors",title:"Data Migration",children:[(0,r.jsx)(P,{className:"w-4 h-4"}),(0,r.jsx)("span",{className:"hidden sm:inline",children:"Migration"})]})})}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,r.jsx)(D.User,{className:"w-4 h-4"}),(0,r.jsxs)("span",{children:["Welcome, ",(null==(e=o.user)?void 0:e.name)||(null==(t=o.user)?void 0:t.email)]}),(null==(l=o.user)?void 0:l.role)&&(0,r.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("ADMIN"===o.user.role?"bg-purple-100 text-purple-800":"STAFF"===o.user.role?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"),children:[(0,r.jsx)(F,{className:"w-3 h-3 inline mr-1"}),o.user.role]})]}),(0,r.jsxs)("button",{onClick:ex,className:"flex items-center gap-2 px-3 py-2 text-sm text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Sign Out",children:[(0,r.jsx)(O,{className:"w-4 h-4"}),(0,r.jsx)("span",{className:"hidden sm:inline",children:"Sign Out"})]})]})]}),(0,r.jsxs)("form",{onSubmit:eg,className:"space-y-4 mb-6 sm:mb-8",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"orderNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Order Number *"}),(0,r.jsx)("input",{type:"text",id:"orderNumber",value:m,onChange:e=>h(e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-3 sm:py-2 text-base sm:text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Enter order number",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"customerName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer Name"}),(0,r.jsx)("input",{type:"text",id:"customerName",value:x,onChange:e=>g(e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-3 sm:py-2 text-base sm:text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Enter customer name"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"customerEmail",className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer Email"}),(0,r.jsx)("input",{type:"email",id:"customerEmail",value:p,onChange:e=>f(e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-3 sm:py-2 text-base sm:text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Enter customer email"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"orderDetails",className:"block text-sm font-medium text-gray-700 mb-1",children:"Order Details"}),(0,r.jsx)("input",{type:"text",id:"orderDetails",value:y,onChange:e=>b(e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-3 sm:py-2 text-base sm:text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Enter order details"})]})]}),(0,r.jsxs)("button",{type:"submit",disabled:w,className:"w-full sm:w-auto bg-orange-500 text-white px-6 py-3 sm:py-2 rounded-md hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-orange-500 disabled:opacity-50 flex items-center justify-center gap-2 text-base sm:text-sm font-medium",children:[(0,r.jsx)(S,{className:"w-4 h-4"}),w?"Creating...":"Create Order"]})]}),j&&(0,r.jsxs)(L.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-100 p-4 rounded-lg mb-4 sm:mb-6",children:[(0,r.jsx)("h3",{className:"text-base sm:text-lg font-semibold mb-4",children:"Order Created Successfully!"}),(0,r.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,r.jsx)("div",{className:"bg-white p-4 rounded-lg",children:(0,r.jsx)(N,{value:j,size:120})}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 mb-2",children:"QR Code URL:"}),(0,r.jsx)("a",{href:j,target:"_blank",rel:"noopener noreferrer",className:"text-orange-500 hover:underline text-xs sm:text-sm break-all",children:j})]}),(0,r.jsx)("button",{onClick:()=>{let e=U[0];e&&(eh(e),eu(!0))},className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors text-sm flex items-center gap-2",children:"🖨️ Print Receipt"})]})]})]}),(0,r.jsx)(K,{roles:"ADMIN",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6 mb-4 sm:mb-6",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 gap-4",children:[(0,r.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:"Data Migration"}),(0,r.jsx)("button",{onClick:()=>ed(!eo),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors text-sm",children:eo?"Hide Migration Panel":"Show Migration Panel"})]}),eo&&(0,r.jsx)(L.motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:(0,r.jsx)(Y,{})})]})}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 sm:mb-6 gap-4",children:[(0,r.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:"All Orders"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 sm:gap-4 items-center",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-xs sm:text-sm text-gray-600",children:"Auto-refresh:"}),(0,r.jsx)("button",{onClick:()=>J(!X),className:"flex items-center ".concat(X?"text-green-600":"text-gray-400"),children:X?(0,r.jsx)(_,{className:"w-5 h-5 sm:w-6 sm:h-6"}):(0,r.jsx)(R,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),(0,r.jsxs)("button",{onClick:()=>{try{let e=(0,i.getAllOrders)();H(e),u({type:"success",title:"Refreshed",message:"Orders list has been updated."})}catch(e){console.error("Error refreshing orders:",e),u({type:"error",title:"Refresh failed",message:"Could not refresh the orders list."})}},className:"bg-blue-500 text-white px-2 sm:px-3 py-2 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 flex items-center gap-1 sm:gap-2 text-xs sm:text-sm",children:[(0,r.jsx)(E.RefreshCw,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,r.jsx)("span",{className:"hidden sm:inline",children:"Refresh"})]}),(0,r.jsxs)("button",{onClick:()=>{try{let e=(0,i.exportToCSV)(),t=new Blob([e],{type:"text/csv"}),r=URL.createObjectURL(t),s=document.createElement("a");s.href=r,s.download="orders.csv",s.click(),URL.revokeObjectURL(r),u({type:"success",title:"Export successful",message:"Orders have been exported to CSV."})}catch(e){console.error("Error exporting CSV:",e),u({type:"error",title:"Export failed",message:"There was an error exporting the orders."})}},className:"bg-green-500 text-white px-2 sm:px-4 py-2 rounded-md hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-500 flex items-center gap-1 sm:gap-2 text-xs sm:text-sm",children:[(0,r.jsx)(C,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,r.jsx)("span",{className:"hidden sm:inline",children:"Export CSV"})]})]})]}),(0,r.jsxs)("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg mb-4 sm:mb-6 space-y-3 sm:space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-3 sm:space-y-0 sm:flex sm:flex-wrap sm:gap-4 sm:items-center",children:[(0,r.jsx)("div",{className:"flex-1 min-w-0 sm:min-w-64",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(k,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,r.jsx)("input",{type:"text",placeholder:"Search orders...",value:$,onChange:e=>Z(e.target.value),className:"w-full pl-10 pr-4 py-3 sm:py-2 text-base sm:text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]})}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(A,{className:"w-4 h-4 text-gray-500"}),(0,r.jsxs)("select",{value:ee,onChange:e=>et(e.target.value),className:"border border-gray-300 rounded-md px-3 py-3 sm:py-2 text-base sm:text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[(0,r.jsx)("option",{value:"all",children:"All Status"}),(0,r.jsx)("option",{value:"Pending",children:"Pending"}),(0,r.jsx)("option",{value:"Preparing",children:"Preparing"}),(0,r.jsx)("option",{value:"Ready",children:"Ready"}),(0,r.jsx)("option",{value:"Out for Delivery",children:"Out for Delivery"}),(0,r.jsx)("option",{value:"Picked Up",children:"Picked Up"}),(0,r.jsx)("option",{value:"Cancelled",children:"Cancelled"})]})]}),(0,r.jsx)("button",{onClick:()=>{Z(""),et("all"),G(""),es({start:"",end:""})},className:"w-full sm:w-auto bg-gray-500 text-white px-3 py-3 sm:py-2 rounded-md hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 text-sm",children:"Clear Filters"})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,r.jsx)("span",{className:"text-xs sm:text-sm text-gray-600 self-center",children:"Quick filters:"}),(0,r.jsx)("button",{onClick:()=>ey("today"),className:"px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors",children:"Today"}),(0,r.jsx)("button",{onClick:()=>ey("yesterday"),className:"px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors",children:"Yesterday"}),(0,r.jsx)("button",{onClick:()=>ey("thisWeek"),className:"px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors",children:"This Week"}),(0,r.jsx)("button",{onClick:()=>ey("last7days"),className:"px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors",children:"Last 7 Days"}),(0,r.jsx)("button",{onClick:()=>ey("thisMonth"),className:"px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors",children:"This Month"}),(0,r.jsx)("button",{onClick:()=>ey("last30days"),className:"px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors",children:"Last 30 Days"})]}),(0,r.jsxs)("div",{className:"space-y-3 sm:space-y-0 sm:flex sm:flex-wrap sm:gap-4 sm:items-center",children:[(0,r.jsxs)("div",{className:"space-y-2 sm:space-y-0 sm:flex sm:items-center sm:gap-2",children:[(0,r.jsx)("span",{className:"text-xs sm:text-sm text-gray-600",children:"Custom Range:"}),(0,r.jsx)("input",{type:"date",value:er.start,onChange:e=>es(t=>({...t,start:e.target.value})),className:"w-full sm:w-auto border border-gray-300 rounded-md px-3 py-3 sm:py-2 text-base sm:text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Start date"}),(0,r.jsx)("span",{className:"hidden sm:inline text-gray-500",children:"to"}),(0,r.jsx)("input",{type:"date",value:er.end,onChange:e=>es(t=>({...t,end:e.target.value})),className:"w-full sm:w-auto border border-gray-300 rounded-md px-3 py-3 sm:py-2 text-base sm:text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"End date"})]}),(0,r.jsx)("div",{className:"hidden sm:block text-sm text-gray-500",children:"OR"}),(0,r.jsxs)("div",{className:"space-y-2 sm:space-y-0 sm:flex sm:items-center sm:gap-2",children:[(0,r.jsx)("span",{className:"text-xs sm:text-sm text-gray-600",children:"Single Date:"}),(0,r.jsx)("input",{type:"date",value:q,onChange:e=>G(e.target.value),className:"w-full sm:w-auto border border-gray-300 rounded-md px-3 py-3 sm:py-2 text-base sm:text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]})]}),(0,r.jsxs)("div",{className:"text-xs sm:text-sm text-gray-600",children:["Showing ",ef.length," of ",U.length," orders",($||"all"!==ee||q||er.start||er.end)&&(0,r.jsx)("span",{className:"text-orange-600 ml-1",children:"(filtered)"})]})]}),B?(0,r.jsx)("div",{className:"text-center py-8",children:"Loading orders..."}):0===ef.length?(0,r.jsx)("div",{className:"text-center py-8 text-gray-500",children:q?"No orders found for the selected date.":"No orders yet."}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"block sm:hidden space-y-4",children:ef.map(e=>(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,r.jsxs)("div",{className:"font-semibold text-gray-800",children:["#",e.orderNumber]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat((0,i.getStatusColor)(e.status)),children:e.status}),(0,r.jsx)("button",{onClick:()=>ep(e),className:"bg-orange-600 text-white p-1.5 rounded-md hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-orange-500",title:"Update Status",children:(0,r.jsx)(M,{className:"w-3 h-3"})})]})]}),(0,r.jsxs)("div",{className:"space-y-1 text-sm text-gray-600",children:[e.customerName&&(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Customer:"})," ",e.customerName]}),e.customerEmail&&(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Email:"})," ",e.customerEmail]}),e.orderDetails&&(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Details:"})," ",e.orderDetails]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Created:"})," ",e.createdAt.toLocaleString()]}),e.updatedAt&&e.updatedAt.getTime()!==e.createdAt.getTime()&&(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Last Updated:"})," ",e.updatedAt.toLocaleString()]}),e.driverName&&(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Driver:"})," ",e.driverName]}),e.deliveryCompany&&(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Company:"})," ",e.deliveryCompany]}),e.notes&&(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Notes:"})," ",e.notes]})]})]},e.id))}),(0,r.jsx)("div",{className:"hidden sm:block overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full border-collapse border border-gray-300",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"bg-gray-50",children:[(0,r.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Order #"}),(0,r.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Customer"}),(0,r.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Email"}),(0,r.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Details"}),(0,r.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Status"}),(0,r.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Created"}),(0,r.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Last Updated"}),(0,r.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Driver"}),(0,r.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Actions"})]})}),(0,r.jsx)("tbody",{children:ef.map(e=>{var t;return(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,r.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:e.orderNumber}),(0,r.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:e.customerName||"-"}),(0,r.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:e.customerEmail||"-"}),(0,r.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:e.orderDetails||"-"}),(0,r.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:(0,r.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat((0,i.getStatusColor)(e.status)),children:e.status})}),(0,r.jsx)("td",{className:"border border-gray-300 px-4 py-2 text-sm",children:e.createdAt.toLocaleString()}),(0,r.jsx)("td",{className:"border border-gray-300 px-4 py-2 text-sm",children:(null==(t=e.updatedAt)?void 0:t.toLocaleString())||e.createdAt.toLocaleString()}),(0,r.jsxs)("td",{className:"border border-gray-300 px-4 py-2",children:[e.driverName||"-",e.deliveryCompany&&(0,r.jsx)("br",{}),e.deliveryCompany&&(0,r.jsx)("span",{className:"text-sm text-gray-500",children:e.deliveryCompany})]}),(0,r.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:(0,r.jsx)("button",{onClick:()=>ep(e),className:"bg-orange-600 text-white p-2 rounded-md hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-orange-500",title:"Update Status",children:(0,r.jsx)(M,{className:"w-4 h-4"})})})]},e.id)})})]})})]})]})]})}),ei&&ea&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsxs)("h2",{className:"text-xl font-semibold text-gray-800",children:["Order #",ea.orderNumber]}),(0,r.jsx)("button",{onClick:()=>{el(!1),en(null)},className:"text-gray-400 hover:text-gray-600 p-1",children:"×"})]}),(0,r.jsx)("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:(0,r.jsxs)("div",{className:"space-y-1 text-sm",children:[ea.customerName&&(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Customer:"})," ",ea.customerName]}),ea.customerEmail&&(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Email:"})," ",ea.customerEmail]}),ea.orderDetails&&(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Details:"})," ",ea.orderDetails]}),ea.driverName&&(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Driver:"})," ",ea.driverName]}),ea.deliveryCompany&&(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Company:"})," ",ea.deliveryCompany]})]})}),(0,r.jsx)(Q,{order:ea,onUpdate:e=>{H(t=>t.map(t=>t.id===e.id?e:t)),en(e)}})]})})}),ec&&em&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Print Receipt"}),(0,r.jsx)("button",{onClick:()=>{eu(!1),eh(null)},className:"text-gray-400 hover:text-gray-600 p-1",children:"×"})]}),(0,r.jsx)(W,{order:em,qrUrl:"".concat(window.location.origin,"/order?id=").concat(em.id)})]})})})]})}}]);